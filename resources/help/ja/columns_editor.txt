.. _columns_editor:

フォーマット編集画面
====================

PortaBaseファイルはそれぞれ、ユーザーが定義したフォーマットのテーブルを1つ含んでいます。このテーブルのフォーマットは一連のデータフィールドから決定されており、フィールドはそれぞれ名前、データタイプ、デフォルト値を持っています。PortaBaseファイルの新規作成時にはこのダイアログが表示され、データフィールドを定義することができます。既存のファイルのフィールドもいつでも、\ :ref:`データ表示画面 <data_viewer>`\ の"ファイル"メニューの"フォーマット編集"を選択し、このダイアログを使って編集できます。（メニューの構成が簡単なMaemoでは、このオプションは"ファイル"メニューの下ではなく、直接メニューに入っている。）

現在のフィールド定義が１フィールドにつき１行の形で、\ :ref:`レコード編集画面 <row_editor>`\ で表示されるのと同じ順番で一覧表示されます。これらのフィールド定義は、ダイアログのボタンを使って操作することができます:

**作成**
  リストの最後に新しいフィールド定義を作成します。名前、データタイプ、そしてデフォルト値を入力するための小さなダイアログが表示されます。（もしこのダイアログのタイプリストから"(新しい列挙)"を選択した場合、これを追加するための\ :ref:`列挙編集画面 <enum_editor>`\ が起動されます。）デフォルト値は、既存のデータレコードのこのフィールドに入力され、新しいレコードを追加する時にもレコード編集画面に表示されます。

**編集**
  選択されているフィールド定義を編集します。データタイプは変更できないことに注意してください。デフォルト値が変更されると、この新しいデフォルト値が新規レコード作成時のレコード編集画面で表示されます; 既存のレコードには影響しません。

**削除**
  選択されているフィールド定義を削除します。このフィールドに入力されているデータはすべて失われます。

**上げる**
  選択されているフィールドのリスト上での位置を一つ上げます（それに伴って、レコード編集画面上でも一つ上の位置に表示されます）。

**下げる**
  選択されているフィールドのリスト上での位置を一つ下げます（それに伴って、レコード編集画面上でも一つ下の位置に表示されます）。

テーブルフォーマットに行った変更は、"OK"ボタンが押されるまでは適用されません: 代りにキャンセルするのを選ぶと、変更は破棄され、元々のファイルのフォーマットが残されます。新規ファイルのフィールド定義注にキャンセルする場合、ファイル作成はアボートされます; それ以外の時は、どちらかのダイアログクローズボタンを押すと\ :ref:`データ表示画面 <data_viewer>`\ に移ります。
